# corpus_balancing

Git repository for the paper **"Fair Play in the Newsroom: Actor-Based Filtering Gender Discrimination in Text Corpora"**

This repository provides a modular pipeline for detecting and mitigating gender discrimination in large-scale text corpora. It enables both diagnostic analysis and the construction of balanced datasets, supporting fairer NLP development and critical media analysis.  
  
The approach is based on actor-level discourse analysis and was applied to the taz2024full corpus — a collection of over 1.8 million German newspaper articles published between 1980 and 2024. The pipeline produces detailed yearly reports and supports article-level filtering and corpus-level balancing.  
  
The resulting balanced dataset, taz2024balanced, shows measurable improvements in gender parity across key linguistic dimensions such as agency, sentiment, quotation style, and visibility. The dataset and pipeline are released to support transparency, reproducibility, and further research in computational fairness.


## Contents

``code/``                         # Full pipeline implementation  
``results/``  
``analysis_unbalanced/``      # Yearly analysis of taz2024full corpus before filtering  
``analysis_balanced/``        # Yearly analysis of taz2024full corpus after full filtering and balancing




## Metrics

The following metrics are included in the yearly reports generated by the pipeline. For each metric, we provide:

- **What** is being measured  
- **Why** it was included (rationale)  
- **How to interpret** it, especially in the context of gender-specific percentages, document-level statistics, and corpus-wide trends

### General Corpus Statistics

These metadata-level indicators appear at the top of each yearly report and provide a summary of corpus size and linguistic characteristics relevant to gender representation.

---

### Total Texts  
- **What**: Total number of articles in the corpus for a given year.  
- **Why**: Indicates corpus size, which impacts interpretability and statistical stability.  
- **How to interpret**: Smaller values (e.g., early 1980s) lead to noisier metrics. Use this to contextualise all further metrics.  

### Texts with Actors  
- **What**: Number of texts that contain at least one actor with resolved gender.  
- **Why**: Only these texts are analysed; others are excluded.  
- **How to interpret**: A high share indicates full coverage; a low share indicates limited gender-resolvable material.  

### Uses Gender Neutral Language (Docs)  
- **What**: Number of texts using inclusive forms such as `Lehrer:innen` or `Schüler*innen`.  
- **Why**: Captures editorial shifts toward gender-fair language.  
- **How to interpret**: Higher values indicate more inclusive language usage.  

### Generic Masculine Usage (Docs)  
- **What**: Number of texts that use the generic masculine form (e.g., `die Studenten`).  
- **Why**: The generic masculine is a structural source of gender exclusion in German.  
- **How to interpret**: High values reflect dominant use of non-inclusive grammatical norms.  

---

### Representation and Framing Metrics  
All metrics are reported separately for **she/her**, **he/him**, and **overall**. Most are presented as **totals** (across all texts) and as **per-text means**, **medians**, and **standard deviations**.

---

### Pronoun Distribution  
- **What**: Number of actors in the texts.  
- **Why**: Indicates basic discursive presence.  
- **How to interpret**: Large gender gaps (e.g., 6900 vs. 9200) reflect asymmetric visibility.  

### Mentions by Pronoun  
- **What**: How often actors are mentioned.  
- **Why**: Tracks referential continuity and narrative presence.  
- **How to interpret**: Higher values for one group suggest greater prominence across texts.  

### Named Mentions  
- **What**: Number of mentions using full names.  
- **Why**: Named references imply individuation and recognisability.  
- **How to interpret**: Gender gaps reflect asymmetric specificity (e.g., if women are more often mentioned by their pronoun).  

### Pronoun Mentions  
- **What**: Number of mentions using pronouns only.  
- **Why**: Complements named mentions; excessive pronoun use reduces discursive clarity.  
- **How to interpret**: Disproportionate pronoun use for women implies backgrounding.  

### Subject Roles  
- **What**: Number of times actors appear as grammatical subjects.  
- **Why**: Subject roles signal agency and action.  
- **How to interpret**: A lower share of women as subjects indicates reduced narrative control.  

### Object Roles  
- **What**: Number of times actors appear as grammatical objects.  
- **Why**: Object roles indicate being acted upon.  
- **How to interpret**: A high proportion of women in object roles suggests passivation.  

### Direct Quotes  
- **What**: Number of attributed direct quotes.  
- **Why**: Direct speech signifies authority and voice.  
- **How to interpret**: If men are quoted directly more often, this reflects narrative centrality and credibility gaps.  

### Indirect Quotes  
- **What**: Number of attributed indirect quotes.  
- **Why**: Indirect speech downplays speaker agency.  
- **How to interpret**: High indirect attribution for women implies reduced narrative presence.  

### Feminine-coded Words  
- **What**: Frequency of feminine-coded descriptors.  
- **Why**: Lexical bias often reflects gendered expectations.  
- **How to interpret**: High values for women may signal stereotypical framing (e.g., nurturing, supportive).  

### Masculine-coded Words  
- **What**: Frequency of masculine-coded descriptors.  
- **Why**: Complements the feminine-coded metric.  
- **How to interpret**: Skewed usage toward men reinforces traditional gender roles (e.g., assertive, independent).  

### Sentiment  
- **What**: Mean sentiment score for all predications involving actors.  
- **Why**: Evaluative framing is a key dimension of linguistic discrimination.  
- **How to interpret**: Even slight differences (e.g., -0.01 vs. 0.01) are meaningful in neutral-skewed distributions. Negative gaps for women suggest systemic framing bias.  

---

### Named Mentions (% of all mentions)
- **What**: Share of total mentions (name + pronoun) that are named references.
- **Why**: Indicates the level of individuation or discursive salience.
- **How to interpret**: Lower percentages for women (e.g. 38.5% she/her vs. 61.5% he/him) indicate less frequent individuation and lower prominence.

---

### Pronoun Mentions (% of all mentions)
- **What**: Share of total mentions that are pronouns.
- **Why**: Complements named percentage. High pronoun usage may obscure actor identity.
- **How to interpret**: If women have a higher share of pronoun-based references, they are likely being anonymised or backgrounded in discourse.

---

### Subject Roles (% of known roles)
- **What**: Percentage of all subject roles filled by each gender.
- **Why**: Normalises agency metrics across genders.
- **How to interpret**: A persistent gap (e.g. women < 40%) reveals asymmetry in who gets to “act” in discourse. A more even split suggests discursive parity.

---

### Object Roles (% of known roles)
- **What**: Percentage of object roles filled by each gender.
- **Why**: Indicates who is being acted upon.
- **How to interpret**: If women consistently fill 60%+ of object roles, this indicates discursive passivation — i.e. women are recipients rather than initiators of action.

---

### Named Mentions (% of all mentions)  
- **What**: Share of mentions that are named references per gender.  
- **Why**: Named mentions signal individuation and specificity.  
- **How to interpret**: A lower share for women indicates reduced discursive prominence.  

### Pronoun Mentions (% of all mentions)  
- **What**: Share of mentions that are pronouns per gender.  
- **Why**: High pronoun usage may obscure identity and agency.  
- **How to interpret**: A higher rate for women may imply marginalisation or backgrounding.  

### Subject Roles (% of known roles)  
- **What**: Share of all subject roles attributed to each gender.  
- **Why**: Normalises subject counts.  
- **How to interpret**: A lower percentage of subject role share for women indicates reduced narrative agency.  

### Object Roles (% of known roles)  
- **What**: Share of all object roles attributed to each gender.  
- **Why**: Normalises object counts.  
- **How to interpret**: A lower percentage of object roles for women signals structural passivation.  

### Direct Quotes (% of quotes)  
- **What**: Share of all direct quotes attributed to each gender.  
- **Why**: Assesses gender balance in attributed voice.  
- **How to interpret**: A lower percentage of direct quotes for women reflects discursive underrepresentation.  

### Indirect Quotes (% of quotes)  
- **What**: Share of indirect quotes attributed to each gender.  
- **Why**: Reflects passive or backgrounded representation.  
- **How to interpret**: A higher share for women may indicate narrative marginalisation.  

---

### Top PMI Adjectives, Nouns, Verbs  
- **What**: Lists of words with highest Pointwise Mutual Information (PMI) per gender group.  
- **Why**: Reveals thematic associations and stereotypical framing.  
- **How to interpret**: Recurrent associations reveal patterns of how actors are described. Differences between genders indicate bias in framing and topical contexts.  

These metrics are central to both diagnosing gendered patterns and deciding which texts to exclude during corpus filtering. Their interpretability is supported through clear per-gender breakdowns and intuitive statistical summaries (mean, median, std. dev) in the yearly reports.

## Example Report

The following report shows how the metrics are used in the yearly analysis.

```
Report for the year 2023
===========================================================================

AGGREGATED TOTALS (all texts)
Total Texts:                        10019
Texts with Actors:                  10019
Uses Gender Neutral Language (Docs):  107
Generic Masculine Usage (Docs):      8081

Metric                                  she/her      he/him     overall
---------------------------------------------------------------------------
Pronoun Distribution:                      6892        9194       16086
Mentions by Pronoun:                      35595       56044       91639
Named Mentions:                           22544       36047       58591
Pronoun Mentions:                         13051       19997       33048
Subject Roles:                            18625       30303       48928
Object Roles:                              1119        1540        2659
Direct Quotes:                             6501       10588       17089
Indirect Quotes:                           2529        4215        6744
Feminine-coded Words:                      4251        6066       10317
Masculine-coded Words:                     2870        4764        7634
Sentiment:                                -0.01       -0.01       -0.01
Named Mentions (% of all mentions):        38.5        61.5            
Pronoun Mentions (% of all mentions):        39.5        60.5            
Subject Roles (% of known roles):          38.1        61.9            
Object Roles (% of known roles):           42.1        57.9            
Direct Quotes (% of quotes):               38.0        62.0            
Indirect Quotes (% of quotes):             37.5        62.5            

STATISTICS (per text)
---------------------------------------------------------------------------
Metric                                             Mean    Median   Std Dev
---------------------------------------------------------------------------
Pronouns (Resolved) (She/Her)                      0.69      1.00      0.83
Mentions (By Pronoun) (She/Her)                    3.55      2.00      7.22
Feminine Coded Words (By Pronoun) (She/Her)        0.42      0.00      1.18
Masculine Coded Words (By Pronoun) (She/Her)       0.29      0.00      0.77
Named Mentions (Sum Over Actors) (She/Her)         2.25      1.00      5.65
Pronoun Mentions (Sum Over Actors) (She/Her)       1.30      1.00      2.29
Subject Roles (She/Her)                            1.86      0.00      3.78
Object Roles (She/Her)                             0.11      0.00      0.43
Direct Quotes (She/Her)                            0.65      0.00      1.46
Indirect Quotes (She/Her)                          0.25      0.00      0.72
Pronouns (Resolved) (He/Him)                       0.92      1.00      0.91
Mentions (By Pronoun) (He/Him)                     5.59      3.00      9.77
Feminine Coded Words (By Pronoun) (He/Him)         0.61      0.00      1.36
Masculine Coded Words (By Pronoun) (He/Him)        0.48      0.00      1.05
Named Mentions (Sum Over Actors) (He/Him)          3.60      1.00      7.75
Pronoun Mentions (Sum Over Actors) (He/Him)        2.00      1.00      3.02
Subject Roles (He/Him)                             3.02      2.00      5.01
Object Roles (He/Him)                              0.15      0.00      0.53
Direct Quotes (He/Him)                             1.06      0.00      1.96
Indirect Quotes (He/Him)                           0.42      0.00      0.97
Mean Sentiment (All)                              -0.02      0.00      0.10
Total Actors                                       1.61      1.00      1.04
Total Mentions                                     9.15      5.00     12.10
Total Feminine Coded Words                         1.03      0.00      1.83
Total Masculine Coded Words                        0.76      0.00      1.28
Uses Gender-Neutral Language                       0.01      0.00      0.10
Generic Masculine                                  0.81      1.00      0.40

---------------------------------------------------------------------------------------
Most frequent adjectives associated with each pronoun group.

Rank ALL                           she/her                      he/him                        
---------------------------------------------------------------------------------------
1    letzten (414.00)              letzten (154.00)             letzten (269.00)              
2    russischen (272.00)           junge (130.00)               russischen (195.00)           
3    deutschen (260.00)            berliner (101.00)            deutschen (171.00)            
4    berliner (231.00)             deutschen (97.00)            politische (142.00)           
5    junge (212.00)                deutsche (97.00)             ukrainische (137.00)          
6    nächsten (212.00)             russischen (81.00)           politischen (135.00)          
7    politische (212.00)           nächsten (80.00)             berliner (134.00)             
8    deutsche (208.00)             politischen (80.00)          nächsten (133.00)             
9    politischen (205.00)          politische (74.00)           ukrainischen(117.00)         
10   ukrainische (178.00)          jungen (71.00)               russische (113.00)            


TOP PMI NOUNS
---------------------------------------------------------------------------------------
Most frequent nouns associated with each pronoun group.

Rank ALL                           she/her                       he/him                        
---------------------------------------------------------------------------------------
1    menschen (588.00)             menschen (311.00)             menschen (315.00)             
2    frau (353.00)                 frau (234.00)                 präsident (289.00)            
3    präsident (328.00)            frauen (163.00)               mann (210.00)                 
4    leben (312.00)                leben (140.00)                partei (185.00)               
5    mann (280.00)                 mutter (128.00)               leben (182.00)                
6    partei (268.00)               kinder (109.00)               land (164.00)                 
7    land (238.00)                 tochter (107.00)              frau (147.00)                 
8    frauen (210.00)               geschichte (101.00)           sohn (135.00)                 
9    stadt (209.00)                mann (100.00)                 stadt (135.00)                
10   regierung (208.00)            anfang (100.00)               mittwoch (126.00)             


TOP PMI VERBS
---------------------------------------------------------------------------------------
Most frequent verbs associated with each pronoun group.

Rank ALL                           she/her                       he/him                        
---------------------------------------------------------------------------------------
1    erzählt (671.00)              erzählt (331.00)              erzählt (368.00)              
2    steht (495.00)                steht (199.00)                steht (324.00)                
3    sieht (449.00)                erklärt (180.00)              sieht (315.00)                
4    erklärt (428.00)              lassen (167.00)               erklärt (269.00)              
5    lassen (359.00)               sieht (163.00)                erklärte (243.00)             
6    erklärte (346.00)             sehen (147.00)                spricht (228.00)              
7    spricht (341.00)              zeigt (139.00)                lassen (205.00)               
8    zeigt (302.00)                spricht (139.00)              sprach (199.00)               
9    weiß (289.00)                 lebt (127.00)                 zeigt (190.00)                
10   hält (286.00)                 sagen (125.00)                weiß (188.00)   

```
