# corpus_balancing

Git repository for the paper **"Fair Play in the Newsroom: Actor-Based Filtering Gender Discrimination in Text Corpora"**

This repository provides a modular pipeline for detecting and mitigating gender discrimination in large-scale text corpora. It enables both diagnostic analysis and the construction of balanced datasets, supporting fairer NLP development and critical media analysis.  
  
The approach is based on actor-level discourse analysis and was applied to the taz2024full corpus — a collection of over 1.8 million German newspaper articles published between 1980 and 2024. The pipeline produces detailed yearly reports and supports article-level filtering and corpus-level balancing.  
  
The resulting balanced dataset, taz2024balanced, shows measurable improvements in gender parity across key linguistic dimensions such as agency, sentiment, quotation style, and visibility. The dataset and pipeline are released to support transparency, reproducibility, and further research in computational fairness.


## Contents

``code/``                         # Full pipeline implementation  
``results/``  
``analysis_unbalanced/``      # Yearly analysis of taz2024full corpus before filtering  
``analysis_balanced/``        # Yearly analysis of taz2024full corpus after full filtering and balancing




## Metrics

The following metrics are included in the yearly reports generated by the pipeline. For each metric, we provide:

- **What** is being measured  
- **Why** it was included (rationale)  
- **How to interpret** it, especially in the context of gender-specific percentages, document-level statistics, and corpus-wide trends

### General Corpus Statistics

These metadata-level indicators appear at the top of each yearly report and provide a summary of corpus size and linguistic characteristics relevant to gender representation.

---

### Total Texts
- **What**: The number of articles included in the yearly dataset.
- **Why**: Provides context for interpreting all other metrics. Larger numbers improve stability and reduce outlier effects.
- **How to interpret**: Use this to assess representativeness, smaller years (e.g. in the 1980s) may show higher volatility in gender ratios and framing.

---

### Texts with Actors
- **What**: Number of texts where at least one actor was identified and gender-resolved.
- **Why**: Only these texts are analysed in detail; others are excluded due to a lack of gender cues (e.g. no pronouns).
- **How to interpret**: A high percentage (e.g. 100%) indicates that most articles were eligible for discrimination analysis. A lower number means results reflect a subset of the corpus.

---

### Uses Gender Neutral Language (Docs)
- **What**: Number of articles using inclusive gender-neutral forms (e.g. *Lehrer:innen* or *Schüler*innen*).
- **Why**: Tracks efforts toward inclusive language practices in journalism.
- **How to interpret**: Typically low in earlier years, this number may rise over time. A higher value signals editorial awareness or policy shifts.

---

### Generic Masculine Usage (Docs)
- **What**: Number of articles using the generic masculine form (e.g. *die Studenten* without gender-neutral markers).
- **Why**: The generic masculine is a known exclusionary linguistic norm in German. Tracking its use reveals structural bias in grammar.
- **How to interpret**: A high number (e.g. 8,000 of 10,000 texts) suggests that gender-exclusive forms dominate. A drop after filtering may indicate corpus-level improvement.

---
### Text based Metrics
All metrics are reported separately for **she/her**, **he/him**, and **overall**. Most are presented as **totals** (across all texts) and as **per-text means**, **medians**, and **standard deviations**.

---

### Pronoun Distribution
- **What**: Number of resolved pronouns for each gender (e.g. “sie”, “er”) across the corpus.
- **Why**: Pronoun frequency serves as a coarse proxy for actor salience and gender presence in discourse.
- **How to interpret**: A large gap (e.g. 6900 she/her vs. 9200 he/him) shows unequal discursive presence. High standard deviation in per-text stats may indicate gendered clustering in specific texts.

---

### Mentions by Pronoun
- **What**: Total number of mentions where actors are referred to via pronouns.
- **Why**: Tracks how frequently actors are referenced indirectly — an important aspect of narrative continuity and visibility.
- **How to interpret**: Disparities (e.g. 35,595 vs. 56,044) suggest dominant gender presence. A higher per-text average for he/him indicates systemic narrative favouring of male-coded actors.

---

### Named Mentions
- **What**: Total number of times an actor is referred to by name (e.g. "Angela Merkel").
- **Why**: Named references convey individuation, specificity, and public recognisability.
- **How to interpret**: If men are named more frequently (e.g. 61% of named mentions), it reflects a gender gap in discursive prominence. Per-text statistics highlight whether this is consistent or isolated.

---

### Pronoun Mentions
- **What**: Total number of actor mentions using pronouns.
- **Why**: Complements named mentions; high pronoun use can reduce individuation.
- **How to interpret**: If women are mostly referred to with pronouns while men are named, this indicates representational asymmetry.

---

### Subject Roles
- **What**: Number of times an actor appears in subject position (grammatical agent).
- **Why**: Following discourse analysis, subjects convey agency and action.
- **How to interpret**: A subject-role gap (e.g. 38% women vs. 62% men) suggests unequal narrative agency. Per-text values help diagnose whether this imbalance is systematic or document-specific.

---

### Object Roles
- **What**: Number of times an actor appears in object position (grammatical patient).
- **Why**: Object roles signal passivity or being acted upon — central to assessing narrative subordination.
- **How to interpret**: If women appear as objects disproportionately often, this points to structural discursive disempowerment.

---

### Direct Quotes
- **What**: Total number of direct quotations attributed to each gender.
- **Why**: Direct speech indicates agency, voice, and visibility.
- **How to interpret**: A higher percentage of direct quotes for men suggests a gender gap in attributed authority and public voice. A shift after balancing (e.g. from 38/62 to 45/55) reflects improvement.

---

### Indirect Quotes
- **What**: Total number of indirect quotes attributed to each gender.
- **Why**: Indirect speech diminishes presence and may obscure attribution.
- **How to interpret**: High use for women (e.g. 62.5% for men, only 37.5% for women) indicates reduced narrative presence.

---

### Feminine-coded Words
- **What**: Count of stereotypically feminine-coded words in predications about actors (based on Gaucher et al. 2011).
- **Why**: Reveals subtle lexical framing that may reinforce gender roles.
- **How to interpret**: More feminine-coded words used to describe women can signal stereotypical portrayal. Per-text stats show whether this bias is common or concentrated.

---

### Masculine-coded Words
- **What**: Count of stereotypically masculine-coded words in predications about actors.
- **Why**: Complements the feminine-coded word count; helps assess lexical asymmetries.
- **How to interpret**: A high masculine-coded word count for male actors may reinforce traditional gender roles (e.g. leadership, assertiveness).

---

### Sentiment
- **What**: Average sentiment score for sentences associated with each actor group.
- **Why**: Evaluative framing is often subtle but important for discrimination.
- **How to interpret**: Scores range from -1 (very negative) to 1 (very positive). Even small differences matter — e.g. -0.01 for women vs. 0.01 for men suggests consistent affective bias.

---

### Named Mentions (% of all mentions)
- **What**: Share of total mentions (name + pronoun) that are named references.
- **Why**: Indicates the level of individuation or discursive salience.
- **How to interpret**: Lower percentages for women (e.g. 38.5% she/her vs. 61.5% he/him) indicate less frequent individuation and lower prominence.

---

### Pronoun Mentions (% of all mentions)
- **What**: Share of total mentions that are pronouns.
- **Why**: Complements named percentage. High pronoun usage may obscure actor identity.
- **How to interpret**: If women have a higher share of pronoun-based references, they are likely being anonymised or backgrounded in discourse.

---

### Subject Roles (% of known roles)
- **What**: Percentage of all subject roles filled by each gender.
- **Why**: Normalises agency metrics across genders.
- **How to interpret**: A persistent gap (e.g. women < 40%) reveals asymmetry in who gets to “act” in discourse. A more even split suggests discursive parity.

---

### Object Roles (% of known roles)
- **What**: Percentage of object roles filled by each gender.
- **Why**: Indicates who is being acted upon.
- **How to interpret**: If women consistently fill 60%+ of object roles, this indicates discursive passivation — i.e. women are recipients rather than initiators of action.

---

### Direct Quotes (% of quotes)
- **What**: Percentage of all direct quotes attributed to each gender.
- **Why**: Measures voice and attributed authority.
- **How to interpret**: A shift from 38% (she/her) vs. 62% (he/him) to a more even split suggests that filtering improved representational equity.

---

### Indirect Quotes (% of quotes)
- **What**: Percentage of all indirect quotes attributed to each gender.
- **Why**: Reflects narrative presence.
- **How to interpret**: Persistent imbalance may signal stylistic biases or role expectations in reporting.

---

### PMI Terms

The reports also include lists of **Top PMI Adjectives**, **Nouns**, and **Verbs** for each gender group.

- **What**: Pointwise Mutual Information identifies the most distinctive terms associated with she/her and he/him actors.
- **Why**: Co-occurrence patterns reveal lexical stereotypes and thematic framing (e.g. women with “mother”, men with “president”).
- **How to interpret**:
  - Use the PMI rankings to identify repeated associations (e.g. women with “junge”, men with “politisch”).
  - Compare rankings across years to detect shifts in discourse over time.
  - The presence of strongly gendered roles (e.g. *Mutter* vs. *Präsident*) may signal deep-rooted framing asymmetries.

---

These metrics are central to both diagnosing gendered patterns and deciding which texts to exclude during corpus filtering. Their interpretability is supported through clear per-gender breakdowns and intuitive statistical summaries (mean, median, std. dev) in the yearly reports.

## Example Report

The following report shows how the metrics are used in the yearly analysis.

```
Report for the year 2023
===========================================================================

AGGREGATED TOTALS (all texts)
Total Texts:                        10019
Texts with Actors:                  10019
Uses Gender Neutral Language (Docs):  107
Generic Masculine Usage (Docs):      8081

Metric                                  she/her      he/him     overall
---------------------------------------------------------------------------
Pronoun Distribution:                      6892        9194       16086
Mentions by Pronoun:                      35595       56044       91639
Named Mentions:                           22544       36047       58591
Pronoun Mentions:                         13051       19997       33048
Subject Roles:                            18625       30303       48928
Object Roles:                              1119        1540        2659
Direct Quotes:                             6501       10588       17089
Indirect Quotes:                           2529        4215        6744
Feminine-coded Words:                      4251        6066       10317
Masculine-coded Words:                     2870        4764        7634
Sentiment:                                -0.01       -0.01       -0.01
Named Mentions (% of all mentions):        38.5        61.5            
Pronoun Mentions (% of all mentions):        39.5        60.5            
Subject Roles (% of known roles):          38.1        61.9            
Object Roles (% of known roles):           42.1        57.9            
Direct Quotes (% of quotes):               38.0        62.0            
Indirect Quotes (% of quotes):             37.5        62.5            

STATISTICS (per text)
---------------------------------------------------------------------------
Metric                                             Mean    Median   Std Dev
---------------------------------------------------------------------------
Pronouns (Resolved) (She/Her)                      0.69      1.00      0.83
Mentions (By Pronoun) (She/Her)                    3.55      2.00      7.22
Feminine Coded Words (By Pronoun) (She/Her)        0.42      0.00      1.18
Masculine Coded Words (By Pronoun) (She/Her)       0.29      0.00      0.77
Named Mentions (Sum Over Actors) (She/Her)         2.25      1.00      5.65
Pronoun Mentions (Sum Over Actors) (She/Her)       1.30      1.00      2.29
Subject Roles (She/Her)                            1.86      0.00      3.78
Object Roles (She/Her)                             0.11      0.00      0.43
Direct Quotes (She/Her)                            0.65      0.00      1.46
Indirect Quotes (She/Her)                          0.25      0.00      0.72
Pronouns (Resolved) (He/Him)                       0.92      1.00      0.91
Mentions (By Pronoun) (He/Him)                     5.59      3.00      9.77
Feminine Coded Words (By Pronoun) (He/Him)         0.61      0.00      1.36
Masculine Coded Words (By Pronoun) (He/Him)        0.48      0.00      1.05
Named Mentions (Sum Over Actors) (He/Him)          3.60      1.00      7.75
Pronoun Mentions (Sum Over Actors) (He/Him)        2.00      1.00      3.02
Subject Roles (He/Him)                             3.02      2.00      5.01
Object Roles (He/Him)                              0.15      0.00      0.53
Direct Quotes (He/Him)                             1.06      0.00      1.96
Indirect Quotes (He/Him)                           0.42      0.00      0.97
Mean Sentiment (All)                              -0.02      0.00      0.10
Total Actors                                       1.61      1.00      1.04
Total Mentions                                     9.15      5.00     12.10
Total Feminine Coded Words                         1.03      0.00      1.83
Total Masculine Coded Words                        0.76      0.00      1.28
Uses Gender-Neutral Language                       0.01      0.00      0.10
Generic Masculine                                  0.81      1.00      0.40

---------------------------------------------------------------------------------------
Most frequent adjectives associated with each pronoun group.

Rank ALL                           she/her                      he/him                        
---------------------------------------------------------------------------------------
1    letzten (414.00)              letzten (154.00)             letzten (269.00)              
2    russischen (272.00)           junge (130.00)               russischen (195.00)           
3    deutschen (260.00)            berliner (101.00)            deutschen (171.00)            
4    berliner (231.00)             deutschen (97.00)            politische (142.00)           
5    junge (212.00)                deutsche (97.00)             ukrainische (137.00)          
6    nächsten (212.00)             russischen (81.00)           politischen (135.00)          
7    politische (212.00)           nächsten (80.00)             berliner (134.00)             
8    deutsche (208.00)             politischen (80.00)          nächsten (133.00)             
9    politischen (205.00)          politische (74.00)           ukrainischen(117.00)         
10   ukrainische (178.00)          jungen (71.00)               russische (113.00)            


TOP PMI NOUNS
---------------------------------------------------------------------------------------
Most frequent nouns associated with each pronoun group.

Rank ALL                           she/her                       he/him                        
---------------------------------------------------------------------------------------
1    menschen (588.00)             menschen (311.00)             menschen (315.00)             
2    frau (353.00)                 frau (234.00)                 präsident (289.00)            
3    präsident (328.00)            frauen (163.00)               mann (210.00)                 
4    leben (312.00)                leben (140.00)                partei (185.00)               
5    mann (280.00)                 mutter (128.00)               leben (182.00)                
6    partei (268.00)               kinder (109.00)               land (164.00)                 
7    land (238.00)                 tochter (107.00)              frau (147.00)                 
8    frauen (210.00)               geschichte (101.00)           sohn (135.00)                 
9    stadt (209.00)                mann (100.00)                 stadt (135.00)                
10   regierung (208.00)            anfang (100.00)               mittwoch (126.00)             


TOP PMI VERBS
---------------------------------------------------------------------------------------
Most frequent verbs associated with each pronoun group.

Rank ALL                           she/her                       he/him                        
---------------------------------------------------------------------------------------
1    erzählt (671.00)              erzählt (331.00)              erzählt (368.00)              
2    steht (495.00)                steht (199.00)                steht (324.00)                
3    sieht (449.00)                erklärt (180.00)              sieht (315.00)                
4    erklärt (428.00)              lassen (167.00)               erklärt (269.00)              
5    lassen (359.00)               sieht (163.00)                erklärte (243.00)             
6    erklärte (346.00)             sehen (147.00)                spricht (228.00)              
7    spricht (341.00)              zeigt (139.00)                lassen (205.00)               
8    zeigt (302.00)                spricht (139.00)              sprach (199.00)               
9    weiß (289.00)                 lebt (127.00)                 zeigt (190.00)                
10   hält (286.00)                 sagen (125.00)                weiß (188.00)   

```
